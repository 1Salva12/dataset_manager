<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{{ notebook.name }}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            padding: 20px;
            background-color: #f0f2f5; /* Gris muy claro de fondo */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* --- LIMPIEZA DE ESTRUCTURA --- */
        .jp-InputPrompt, .jp-OutputPrompt, .prompt, .input_prompt, .output_prompt, [class*="prompt"] {
            display: none !important;
            width: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
        }

        .jp-CodeCell, .jp-Notebook, .cell, .input_area, .jp-InputArea {
            border: none !important;
            padding: 0 !important;
            margin-bottom: 20px !important;
            background-color: transparent !important;
        }

        /* --- ESTILO CON COLOR PARA EL CÃ“DIGO --- */
        .jp-InputArea-editor, .input_area pre {
            background-color: hwb(180 94% 4%) !important; /* Fondo oscuro tipo VS Code */
            color: #dcdcdc !important; /* Texto claro */
            padding: 20px !important;
            border-radius: 8px !important;
            border-left: 5px solid #0d6efd !important; /* LÃ­nea azul decorativa */
            font-family: 'Fira Code', 'Consolas', monospace !important;
            box-shadow: inset 0 2px 4px #0584fa4d;
        }

        /* --- ESTILO PARA LOS RESULTADOS (OUTPUTS) --- */
        .jp-OutputArea-output pre {
            background-color: #ffffff !important;
            color: #333 !important;
            padding: 15px !important;
            border: 1px solid #e1e4e8 !important;
            border-top: none !important;
            border-radius: 0 0 8px 8px !important;
            margin-top: -20px !important; /* Une el output al cÃ³digo */
        }

        /* --- TABLAS (DATAFRAMES) CON COLOR --- */
        table.dataframe {
            border-collapse: collapse !important;
            width: 100% !important;
            margin: 20px 0 !important;
            background-color: white !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            box-shadow: 0 2px 5px rgba(3, 219, 248, 0.05) !important;
        }

        table.dataframe th {
            background-color: #0d6efd !important; /* Encabezado azul Bootstrap */
            color: white !important;
            padding: 12px !important;
            text-align: center !important;
        }

        table.dataframe td {
            padding: 10px !important;
            border: 1px solid #eeeeee !important;
            text-align: center !important;
        }

        table.dataframe tr:nth-child(even) {
            background-color: #f8f9fa !important; /* Filas alternadas */
        }

        table.dataframe tr:hover {
            background-color: #e9ecef !important; /* Efecto hover */
        }

        /* --- TARJETA PRINCIPAL --- */
        .card {
            border: none !important;
            border-radius: 15px !important;
            box-shadow: 0 10px 30px rgba(3, 182, 237, 0.1) !important;
        }

        .header-title {
            color: #212529;
            font-weight: 700;
        }
    </style>
</head>
<body>

<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4 mt-2">
        <h3 class="header-title">ðŸ“˜ {{ notebook.name }}</h3>
        <a href="{% url 'dashboard' %}" class="btn btn-primary shadow-sm">â¬… Volver al Dashboard</a>
    </div>

    <div class="card">
        <div class="card-body">
            {% if notebook_html %}
                {{ notebook_html }}
            {% else %}
                <div class="alert alert-info">Cargando contenido del notebook...</div>
            {% endif %}
        </div>
    </div>
</div>

</body>
</html>